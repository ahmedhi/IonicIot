<ion-header>
    <ion-nav>
        <ion-title>
            Nouvel Appareil
        </ion-title>
    </ion-nav>
</ion-header>

<ion-content padding>
    <form [formGroup]="appareilForm">
        <ion-list>
            <ion-item-divider>Informations</ion-item-divider>
            <ion-item>
                <ion-label>
                    Nom
                </ion-label>
                <ion-input placeholder="Appareil"
                            formControlName="name"></ion-input>
            </ion-item>
            <ion-item-divider>Description</ion-item-divider>
            <ion-item>
                <div formArrayName="description">
                    <ion-item *ngFor="let control of getDescriptionArray().controls ;
                            let i = index">
                            <ion-icon name="remove-circle" 
                                    item-start
                                    color="danger"
                                    (click)="onRemoveDescription(i)"></ion-icon>
                        <ion-input [formControlName]="i" [placeholder]=" i+1 + '.'">
                        </ion-input>
                    </ion-item>
                </div>
            </ion-item>
        </ion-list>
        <button ion-button full (click)="onAddDescription()">
            Ajouter une ligne
        </button>
        <button ion-button full (click)="onSubmitForm()">
            Enregistrer
        </button>

    </form>
</ion-content>